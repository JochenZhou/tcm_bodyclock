
---

# ä¸­åŒ»å…»ç”Ÿè¡¨ - Home Assistant è‡ªå®šä¹‰ç»„ä»¶

è¿™æ˜¯ä¸€ä¸ªå€ŸåŠ©**deepseek**ä¸º Home Assistant è®¾è®¡çš„ä¸­åŒ»å…»ç”Ÿè¡¨è‡ªå®šä¹‰ç»„ä»¶ã€‚å®ƒåŸºäºä¸­åŒ»åäºŒæ—¶è¾°å…»ç”Ÿç†è®ºï¼Œå®æ—¶æ˜¾ç¤ºå½“å‰æ—¶è¾°ã€ç»ç»œå€¼ç­ã€å…»ç”Ÿé‡ç‚¹ã€æ¨èäº‹é¡¹å’Œæ³¨æ„äº‹é¡¹ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°éµå¾ªè‡ªç„¶è§„å¾‹ï¼Œè°ƒç†èº«ä½“ã€‚

---

## åŠŸèƒ½ç‰¹æ€§

- **å®æ—¶æ—¶è¾°æ˜¾ç¤º**ï¼šæ ¹æ®å½“å‰æ—¶é—´è‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”çš„ä¸­åŒ»æ—¶è¾°ï¼ˆå¦‚â€œå­æ—¶â€ã€â€œä¸‘æ—¶â€ç­‰ï¼‰ã€‚
- **ç»ç»œå€¼ç­**ï¼šæ˜¾ç¤ºå½“å‰æ—¶è¾°å¯¹åº”çš„ç»ç»œå€¼ç­ä¿¡æ¯ï¼ˆå¦‚â€œèƒ†ç»å€¼ç­â€ã€â€œè‚ç»å€¼ç­â€ç­‰ï¼‰ã€‚
- **å…»ç”Ÿé‡ç‚¹**ï¼šæä¾›æ¯ä¸ªæ—¶è¾°çš„å…»ç”Ÿé‡ç‚¹ï¼ˆå¦‚â€œé˜³æ°”åˆç”Ÿå®œå®‰çœ â€ã€â€œè—è¡€æ’æ¯’é»„é‡‘æœŸâ€ç­‰ï¼‰ã€‚
- **æ¨èäº‹é¡¹**ï¼šåˆ—å‡ºå½“å‰æ—¶è¾°çš„æ¨èäº‹é¡¹ï¼ˆå¦‚â€œå…³é—­ç”µå­è®¾å¤‡ï¼Œå‡†å¤‡å…¥ç¡â€ã€â€œæ¯å°æ—¶èµ·èº«æ´»åŠ¨â€ç­‰ï¼‰ã€‚
- **æ³¨æ„äº‹é¡¹**ï¼šæé†’å½“å‰æ—¶è¾°çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼ˆå¦‚â€œç†¬å¤œåŠ ç­ã€åˆ·æ‰‹æœºâ€ã€â€œç©ºè…¹å–å’–å•¡â€ç­‰ï¼‰ã€‚
- **è‡ªåŠ¨åŒ–æ”¯æŒ**ï¼šæ”¯æŒé€šè¿‡ Home Assistant è‡ªåŠ¨åŒ–å®ç°å®šæ—¶æé†’åŠŸèƒ½ã€‚

---

## å®‰è£…æ–¹æ³•

### é€šè¿‡ HACS å®‰è£…ï¼ˆæ¨èï¼‰
1. æ‰“å¼€ HACS é¢æ¿ã€‚
2. ç‚¹å‡» **é›†æˆ**ã€‚
3. ç‚¹å‡»å³ä¸‹è§’ **+ æµè§ˆå¹¶æ·»åŠ å­˜å‚¨åº“**ã€‚
4. æœç´¢ `tcm_bodyclock` å¹¶æ·»åŠ ã€‚
5. é‡å¯ Home Assistantã€‚

### æ‰‹åŠ¨å®‰è£…
1. å°† `tcm_bodyclock` æ–‡ä»¶å¤¹å¤åˆ¶åˆ° `custom_components` ç›®å½•ã€‚
2. é‡å¯ Home Assistantã€‚
3. è¿›å…¥ **é…ç½® -> è®¾å¤‡ä¸æœåŠ¡ -> é›†æˆ**ã€‚
4. ç‚¹å‡»å³ä¸‹è§’ **+ æ·»åŠ é›†æˆ**ã€‚
5. æœç´¢ **ä¸­åŒ»å…»ç”Ÿè¡¨** å¹¶æ·»åŠ ã€‚

---

## é…ç½®

### å‰ç½®ä¾èµ–
- è‡³å°‘å®‰è£…ä¸€ä¸ª **å¤©æ°”** é›†æˆï¼Œä½¿ç³»ç»Ÿä¸­å­˜åœ¨ `weather.xxx` å®ä½“ã€‚
- å…·å¤‡ä¸€ä¸ªå¯ç”¨çš„ **OpenAI å…¼å®¹æ¥å£**ï¼ˆä¾‹å¦‚å®˜æ–¹ OpenAI APIã€DeepSeekï¼Œæˆ–è‡ªå»ºçš„ OpenAI å…¼å®¹ç½‘å…³ï¼‰ï¼Œå¹¶è·å– Base URLã€API Key å’Œæ¨¡å‹åç§°ã€‚

### é…ç½®æ­¥éª¤
1. åœ¨ **è®¾ç½® â†’ è®¾å¤‡ä¸æœåŠ¡** ä¸­ç‚¹å‡» **æ·»åŠ é›†æˆ**ï¼Œæœç´¢â€œä¸­åŒ»å…»ç”Ÿè¡¨â€ã€‚
2. åœ¨é…ç½®å‘å¯¼ä¸­å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š
   - **OpenAI Base URL**ï¼šå¦‚ `https://api.openai.com/v1`ï¼Œæˆ–è€…ä½ çš„ OpenAI å…¼å®¹æœåŠ¡åœ°å€ã€‚
   - **OpenAI API Key**ï¼šè®¿é—®è¯¥æ¥å£æ‰€éœ€çš„å¯†é’¥ã€‚
   - **æ¨¡å‹åç§°**ï¼šå¦‚ `gpt-4o-mini`ã€`gpt-4.1`ã€`deepseek-chat` ç­‰ã€‚
   - **å¤©æ°”å®ä½“**ï¼šç³»ç»Ÿä¸­æ‰€æœ‰ `weather` åŸŸçš„å®ä½“éƒ½ä¼šåˆ—å‡ºï¼Œé€‰æ‹©ä½ å¸Œæœ›ä½œä¸ºå‚è€ƒçš„å¤©æ°”æºï¼Œä¾‹å¦‚ `weather.home`ã€‚
   - **ç³»ç»Ÿæç¤ºè¯**ï¼šç”¨äºæŒ‡å®šâ€œå°å¤ªåŒ»â€çš„æ€§æ ¼ã€è¯­æ°”å’Œè¾“å‡ºè¦æ±‚ï¼Œé»˜è®¤å·²å†…ç½®ä¸€ä»½ï¼Œå¯æŒ‰éœ€ä¿®æ”¹ã€‚
3. å®Œæˆååˆ›å»ºå®ä½“ã€‚åç»­å¦‚æœéœ€è¦å˜æ›´ API æˆ–å¤©æ°”æ¥æºï¼Œå¯ä»¥åœ¨â€œä¸­åŒ»å…»ç”Ÿè¡¨â€é›†æˆå¡ç‰‡ä¸­ç‚¹å‡» **é…ç½®**ï¼ˆConfigureï¼‰é‡æ–°è¿›å…¥å‘å¯¼è°ƒæ•´é€‰æ‹©ã€‚

---

## ä½¿ç”¨è¯´æ˜

### å®ä½“ç»“æ„
æ·»åŠ é›†æˆåï¼Œä¼šç”Ÿæˆä»¥ä¸‹å®ä½“ï¼š

- `sensor.zhong_yi_yang_sheng_biao`ï¼ˆåç§°ï¼š`æ—¶è¾°`ï¼Œå›¾æ ‡ï¼š`mdi:clock-outline`ï¼‰
  - **state**ï¼šå½“å‰æ—¶è¾°ï¼ˆå¦‚â€œå­æ—¶â€ã€â€œä¸‘æ—¶â€ç­‰ï¼‰ã€‚
- ä»¥ä¸‹ä¸ºæ‹†åˆ†çš„è¯¦ç»†ä¿¡æ¯ä¼ æ„Ÿå™¨ï¼ˆå‡åœ¨è®¾å¤‡é¡µé¢â€œè¯Šæ–­â€åŒºåŸŸå±•ç¤ºï¼‰ï¼š
  - `sensor.zhong_yi_yang_sheng_biao_jing_luo_zhi_ban`ï¼ˆåç§°ï¼š`ä¸­åŒ»å…»ç”Ÿè¡¨ ç»ç»œå€¼ç­`ï¼Œå›¾æ ‡ï¼š`mdi:yin-yang`ï¼‰
  - `sensor.zhong_yi_yang_sheng_biao_yang_sheng_zhong_dian`ï¼ˆåç§°ï¼š`ä¸­åŒ»å…»ç”Ÿè¡¨ å…»ç”Ÿé‡ç‚¹`ï¼Œå›¾æ ‡ï¼š`mdi:heart-pulse`ï¼‰
  - `sensor.zhong_yi_yang_sheng_biao_tui_jian_shi_xiang`ï¼ˆåç§°ï¼š`ä¸­åŒ»å…»ç”Ÿè¡¨ æ¨èäº‹é¡¹`ï¼Œå›¾æ ‡ï¼š`mdi:lightbulb-on`ï¼‰
  - `sensor.zhong_yi_yang_sheng_biao_zhu_yi_shi_xiang`ï¼ˆåç§°ï¼š`ä¸­åŒ»å…»ç”Ÿè¡¨ æ³¨æ„äº‹é¡¹`ï¼Œå›¾æ ‡ï¼š`mdi:alert-circle`ï¼‰
  - `sensor.zhong_yi_yang_sheng_biao_zi_ran_ti_shi`ï¼ˆåç§°ï¼š`ä¸­åŒ»å…»ç”Ÿè¡¨ AIæé†’`ï¼Œå›¾æ ‡ï¼š`mdi:robot`ï¼‰
  - ä½¿ç”¨é…ç½®ä¸­å¡«å†™çš„ OpenAI å…¼å®¹æ¥å£ï¼Œç»“åˆå½“å‰å…»ç”Ÿè¡¨ã€å¤©æ°”çŠ¶å†µä¸èˆ’é€‚åº¦ï¼Œç”Ÿæˆä¸€æ¡æ¸©æŸ”ä½“è´´çš„å°å¤ªåŒ»å¼å…»ç”Ÿæé†’ã€‚

å€ŸåŠ©è¿™äº›å®ä½“ï¼Œå¯ä»¥ç›´æ¥åœ¨ Lovelace å¡ç‰‡ã€è‡ªåŠ¨åŒ–æˆ–è¯­éŸ³åŠ©æ‰‹ä¸­å¼•ç”¨ç›¸åº”çš„ä¿¡æ¯ï¼Œè€Œæ— éœ€å†è¯»å–ä¸»å®ä½“çš„å±æ€§å€¼ã€‚

### å‰ç«¯å±•ç¤º
åœ¨ Lovelace UI ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ **å®ä½“å¡ç‰‡** æˆ– **Markdown å¡ç‰‡** å±•ç¤ºä¿¡æ¯ã€‚

#### å®ä½“å¡ç‰‡
å®ä½“å±•ç¤ºç¤ºä¾‹ï¼š
```yaml
type: entities
entities:
  - entity: sensor.zhong_yi_yang_sheng_biao_jing_luo_zhi_ban
  - entity: sensor.zhong_yi_yang_sheng_biao_yang_sheng_zhong_dian
  - entity: sensor.zhong_yi_yang_sheng_biao_tui_jian_shi_xiang
  - entity: sensor.zhong_yi_yang_sheng_biao_zhu_yi_shi_xiang
  - entity: sensor.zhong_yi_yang_sheng_biao_zi_ran_ti_shi
```

#### Markdown å¡ç‰‡
```yaml
type: markdown
content: >
  **å½“å‰æ—¶è¾°**: {{ states('sensor.zhong_yi_yang_sheng_biao') }}

  **ç»ç»œå€¼ç­**: {{ states('sensor.zhong_yi_yang_sheng_biao_jing_luo_zhi_ban') }}

  **å…»ç”Ÿé‡ç‚¹**: {{ states('sensor.zhong_yi_yang_sheng_biao_yang_sheng_zhong_dian') }}

  **æ¨èäº‹é¡¹**: {{ states('sensor.zhong_yi_yang_sheng_biao_tui_jian_shi_xiang') }}

  **æ³¨æ„äº‹é¡¹**: {{ states('sensor.zhong_yi_yang_sheng_biao_zhu_yi_shi_xiang') }}

  **AIæé†’**: {{ states('sensor.zhong_yi_yang_sheng_biao_zi_ran_ti_shi') }}
```

### è‡ªåŠ¨åŒ–ç¤ºä¾‹
ä»¥ä¸‹æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–ç¤ºä¾‹ï¼Œç”¨äºåœ¨â€œæœªæ—¶â€æé†’å–æ°´ï¼š

```yaml
automation:
  - alias: "æœªæ—¶å–æ°´æé†’"
    trigger:
      - platform: time
        at: "13:30:00"
    condition:
      - condition: state
        entity_id: sensor.zhong_yi_yang_sheng_biao
        state: "æœªæ—¶"
    action:
      - service: tts.google_translate_say
        data:
          message: "æœªæ—¶å°è‚ ç»å½“ä»¤ï¼Œè¯·åŠæ—¶è¡¥å……200mlæ¸©æ°´"
```

---

## å¼€å‘ä¸è´¡çŒ®

### ä¾èµ–
- Home Assistant 2023.7 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- è‡³å°‘ä¸€ä¸ªå¤©æ°”é›†æˆï¼ˆ`weather` å®ä½“ï¼‰ã€‚

### ä»£ç ç»“æ„
```
custom_components/
â””â”€â”€ tcm_bodyclock/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ manifest.json
    â”œâ”€â”€ config_flow.py
    â”œâ”€â”€ sensor.py
    â””â”€â”€ const.py
```

### è´¡çŒ®æŒ‡å—
æ¬¢è¿æäº¤ Issue æˆ– Pull Requestï¼è¯·åœ¨æäº¤å‰ç¡®ä¿ä»£ç é€šè¿‡æµ‹è¯•å¹¶ç¬¦åˆä»£ç é£æ ¼è§„èŒƒã€‚

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

---

## è‡´è°¢

- æ„Ÿè°¢ä¸­åŒ»å…»ç”Ÿç†è®ºçš„æ™ºæ…§ã€‚
- æ„Ÿè°¢ Home Assistant ç¤¾åŒºçš„æ”¯æŒã€‚
- æ„Ÿè°¢ deepseekçš„æ”¯æŒã€‚

---


**ç¥æ‚¨å…»ç”Ÿæ„‰å¿«ï¼Œå¥åº·å¸¸ä¼´ï¼** ğŸŒ¿# tcm_bodyclock
